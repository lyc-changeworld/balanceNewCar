###############################################################################
#
# IAR ANSI C/C++ Compiler V7.20.2.7424/W32 for ARM        15/Aug/2016  15:07:15
# Copyright 1999-2014 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\app\key.c
#    Command line =  
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\app\key.c -D LPLD_K60 -D
#        USE_K60D10 -lCN
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\FLASH\List\ -lB
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\FLASH\List\ -o
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\FLASH\Obj\ --no_cse
#        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
#        --no_scheduling --debug --endian=little --cpu=Cortex-M4 -e --fpu=None
#        --dlib_config "F:\Program
#        Files\IAR_FOR_ARM\arm\INC\c\DLib_Config_Normal.h" -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\app\ -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\CPU\ -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\common\
#        -I E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\LPLD\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\LPLD\HW\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\LPLD\DEV\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\LPLD\FUNC\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\uCOS-II\Ports\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\uCOS-II\Source\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\FatFs\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\FatFs\option\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\USB\common\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\USB\driver\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\USB\descriptor\
#        -I
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\..\..\..\lib\USB\class\
#        -Ol -I "F:\Program Files\IAR_FOR_ARM\arm\CMSIS\Include\" -D
#        ARM_MATH_CM4
#    List file    =  
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\FLASH\List\key.lst
#    Object file  =  
#        E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\iar\FLASH\Obj\key.o
#
###############################################################################

E:\LPLD_OSKinetis_V3.1\project\balanceNewCar\app\key.c
      1          #include "common.h"
      2          #include "key.h"
      3          

   \                                 In section .bss, align 4
      4          GPIO_InitTypeDef gpio_init_struct_key;//结构体定义
   \                     gpio_init_struct_key:
   \   00000000                      DS8 20
      5          
      6          /*按键处理函数*/

   \                                 In section .text, align 2, keep-with-next
      7          void  Key_Handle()
      8          {
      9            
     10            
     11            
     12          }
   \                     Key_Handle: (+1)
   \   00000000   0x4770             BX       LR               ;; return
     13          
     14          
     15          /*键盘扫描程序*/

   \                                 In section .text, align 2, keep-with-next
     16          int keyScan(void)
     17          {
   \                     keyScan: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     18            if(!key6|| !key1 || !key2 || !key3 || !key4 || !key5)
   \   00000002   0x....             LDR.N    R0,??DataTable1  ;; 0x43fe0a5c
   \   00000004   0x6800             LDR      R0,[R0, #+0]
   \   00000006   0x2800             CMP      R0,#+0
   \   00000008   0xD013             BEQ.N    ??keyScan_0
   \   0000000A   0x....             LDR.N    R0,??DataTable1_1  ;; 0x43fe0a48
   \   0000000C   0x6800             LDR      R0,[R0, #+0]
   \   0000000E   0x2800             CMP      R0,#+0
   \   00000010   0xD00F             BEQ.N    ??keyScan_0
   \   00000012   0x....             LDR.N    R0,??DataTable1_2  ;; 0x43fe0a4c
   \   00000014   0x6800             LDR      R0,[R0, #+0]
   \   00000016   0x2800             CMP      R0,#+0
   \   00000018   0xD00B             BEQ.N    ??keyScan_0
   \   0000001A   0x....             LDR.N    R0,??DataTable1_3  ;; 0x43fe0a50
   \   0000001C   0x6800             LDR      R0,[R0, #+0]
   \   0000001E   0x2800             CMP      R0,#+0
   \   00000020   0xD007             BEQ.N    ??keyScan_0
   \   00000022   0x....             LDR.N    R0,??DataTable1_4  ;; 0x43fe0a54
   \   00000024   0x6800             LDR      R0,[R0, #+0]
   \   00000026   0x2800             CMP      R0,#+0
   \   00000028   0xD003             BEQ.N    ??keyScan_0
   \   0000002A   0x....             LDR.N    R0,??DataTable1_5  ;; 0x43fe0a58
   \   0000002C   0x6800             LDR      R0,[R0, #+0]
   \   0000002E   0x2800             CMP      R0,#+0
   \   00000030   0xD15A             BNE.N    ??keyScan_1
     19            {
     20              LPLD_LPTMR_DelayMs(10);
   \                     ??keyScan_0: (+1)
   \   00000032   0x200A             MOVS     R0,#+10
   \   00000034   0x.... 0x....      BL       LPLD_LPTMR_DelayMs
     21              if(!key6|| !key1 || !key2 || !key3 || !key4 || !key5)
   \   00000038   0x....             LDR.N    R0,??DataTable1  ;; 0x43fe0a5c
   \   0000003A   0x6800             LDR      R0,[R0, #+0]
   \   0000003C   0x2800             CMP      R0,#+0
   \   0000003E   0xD013             BEQ.N    ??keyScan_2
   \   00000040   0x....             LDR.N    R0,??DataTable1_1  ;; 0x43fe0a48
   \   00000042   0x6800             LDR      R0,[R0, #+0]
   \   00000044   0x2800             CMP      R0,#+0
   \   00000046   0xD00F             BEQ.N    ??keyScan_2
   \   00000048   0x....             LDR.N    R0,??DataTable1_2  ;; 0x43fe0a4c
   \   0000004A   0x6800             LDR      R0,[R0, #+0]
   \   0000004C   0x2800             CMP      R0,#+0
   \   0000004E   0xD00B             BEQ.N    ??keyScan_2
   \   00000050   0x....             LDR.N    R0,??DataTable1_3  ;; 0x43fe0a50
   \   00000052   0x6800             LDR      R0,[R0, #+0]
   \   00000054   0x2800             CMP      R0,#+0
   \   00000056   0xD007             BEQ.N    ??keyScan_2
   \   00000058   0x....             LDR.N    R0,??DataTable1_4  ;; 0x43fe0a54
   \   0000005A   0x6800             LDR      R0,[R0, #+0]
   \   0000005C   0x2800             CMP      R0,#+0
   \   0000005E   0xD003             BEQ.N    ??keyScan_2
   \   00000060   0x....             LDR.N    R0,??DataTable1_5  ;; 0x43fe0a58
   \   00000062   0x6800             LDR      R0,[R0, #+0]
   \   00000064   0x2800             CMP      R0,#+0
   \   00000066   0xD13D             BNE.N    ??keyScan_3
     22              {
     23                if(!key1)
   \                     ??keyScan_2: (+1)
   \   00000068   0x....             LDR.N    R0,??DataTable1_1  ;; 0x43fe0a48
   \   0000006A   0x6800             LDR      R0,[R0, #+0]
   \   0000006C   0x2800             CMP      R0,#+0
   \   0000006E   0xD105             BNE.N    ??keyScan_4
     24                {
     25                  while(!key1);
   \                     ??keyScan_5: (+1)
   \   00000070   0x....             LDR.N    R0,??DataTable1_1  ;; 0x43fe0a48
   \   00000072   0x6800             LDR      R0,[R0, #+0]
   \   00000074   0x2800             CMP      R0,#+0
   \   00000076   0xD0FB             BEQ.N    ??keyScan_5
     26                  return 1;
   \   00000078   0x2001             MOVS     R0,#+1
   \   0000007A   0xE036             B.N      ??keyScan_6
     27                }
     28                else if(!key2)
   \                     ??keyScan_4: (+1)
   \   0000007C   0x....             LDR.N    R0,??DataTable1_2  ;; 0x43fe0a4c
   \   0000007E   0x6800             LDR      R0,[R0, #+0]
   \   00000080   0x2800             CMP      R0,#+0
   \   00000082   0xD105             BNE.N    ??keyScan_7
     29                {
     30                  while(!key2);
   \                     ??keyScan_8: (+1)
   \   00000084   0x....             LDR.N    R0,??DataTable1_2  ;; 0x43fe0a4c
   \   00000086   0x6800             LDR      R0,[R0, #+0]
   \   00000088   0x2800             CMP      R0,#+0
   \   0000008A   0xD0FB             BEQ.N    ??keyScan_8
     31                  return 2;
   \   0000008C   0x2002             MOVS     R0,#+2
   \   0000008E   0xE02C             B.N      ??keyScan_6
     32                }
     33                else if(!key3)
   \                     ??keyScan_7: (+1)
   \   00000090   0x....             LDR.N    R0,??DataTable1_3  ;; 0x43fe0a50
   \   00000092   0x6800             LDR      R0,[R0, #+0]
   \   00000094   0x2800             CMP      R0,#+0
   \   00000096   0xD105             BNE.N    ??keyScan_9
     34                {
     35                  while(!key3);
   \                     ??keyScan_10: (+1)
   \   00000098   0x....             LDR.N    R0,??DataTable1_3  ;; 0x43fe0a50
   \   0000009A   0x6800             LDR      R0,[R0, #+0]
   \   0000009C   0x2800             CMP      R0,#+0
   \   0000009E   0xD0FB             BEQ.N    ??keyScan_10
     36                  return 3;
   \   000000A0   0x2003             MOVS     R0,#+3
   \   000000A2   0xE022             B.N      ??keyScan_6
     37                }
     38                else if(!key4)
   \                     ??keyScan_9: (+1)
   \   000000A4   0x....             LDR.N    R0,??DataTable1_4  ;; 0x43fe0a54
   \   000000A6   0x6800             LDR      R0,[R0, #+0]
   \   000000A8   0x2800             CMP      R0,#+0
   \   000000AA   0xD105             BNE.N    ??keyScan_11
     39                {
     40                  while(!key4);
   \                     ??keyScan_12: (+1)
   \   000000AC   0x....             LDR.N    R0,??DataTable1_4  ;; 0x43fe0a54
   \   000000AE   0x6800             LDR      R0,[R0, #+0]
   \   000000B0   0x2800             CMP      R0,#+0
   \   000000B2   0xD0FB             BEQ.N    ??keyScan_12
     41                  return 4;
   \   000000B4   0x2004             MOVS     R0,#+4
   \   000000B6   0xE018             B.N      ??keyScan_6
     42                }
     43                else if(!key5)
   \                     ??keyScan_11: (+1)
   \   000000B8   0x....             LDR.N    R0,??DataTable1_5  ;; 0x43fe0a58
   \   000000BA   0x6800             LDR      R0,[R0, #+0]
   \   000000BC   0x2800             CMP      R0,#+0
   \   000000BE   0xD105             BNE.N    ??keyScan_13
     44                {
     45                  while(!key5);
   \                     ??keyScan_14: (+1)
   \   000000C0   0x....             LDR.N    R0,??DataTable1_5  ;; 0x43fe0a58
   \   000000C2   0x6800             LDR      R0,[R0, #+0]
   \   000000C4   0x2800             CMP      R0,#+0
   \   000000C6   0xD0FB             BEQ.N    ??keyScan_14
     46                  return 5;
   \   000000C8   0x2005             MOVS     R0,#+5
   \   000000CA   0xE00E             B.N      ??keyScan_6
     47                }
     48                else if(!key6)
   \                     ??keyScan_13: (+1)
   \   000000CC   0x....             LDR.N    R0,??DataTable1  ;; 0x43fe0a5c
   \   000000CE   0x6800             LDR      R0,[R0, #+0]
   \   000000D0   0x2800             CMP      R0,#+0
   \   000000D2   0xD105             BNE.N    ??keyScan_15
     49                {
     50                  while(!key6);
   \                     ??keyScan_16: (+1)
   \   000000D4   0x....             LDR.N    R0,??DataTable1  ;; 0x43fe0a5c
   \   000000D6   0x6800             LDR      R0,[R0, #+0]
   \   000000D8   0x2800             CMP      R0,#+0
   \   000000DA   0xD0FB             BEQ.N    ??keyScan_16
     51                  return 6;
   \   000000DC   0x2006             MOVS     R0,#+6
   \   000000DE   0xE004             B.N      ??keyScan_6
     52                }
     53                else
     54                  return 7;
   \                     ??keyScan_15: (+1)
   \   000000E0   0x2007             MOVS     R0,#+7
   \   000000E2   0xE002             B.N      ??keyScan_6
     55              }
     56              else
     57                return 7;
   \                     ??keyScan_3: (+1)
   \   000000E4   0x2007             MOVS     R0,#+7
   \   000000E6   0xE000             B.N      ??keyScan_6
     58            }
     59            else
     60              return 7;
   \                     ??keyScan_1: (+1)
   \   000000E8   0x2007             MOVS     R0,#+7
   \                     ??keyScan_6: (+1)
   \   000000EA   0xBD02             POP      {R1,PC}          ;; return
     61          } 
     62          /*键盘口初始化*/

   \                                 In section .text, align 2, keep-with-next
     63          void init_gpio_key()
     64          {
   \                     init_gpio_key: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     65            gpio_init_struct_key.GPIO_PTx = PTB;
   \   00000002   0x....             LDR.N    R0,??DataTable1_6  ;; 0x400ff040
   \   00000004   0x....             LDR.N    R1,??DataTable1_7
   \   00000006   0x6008             STR      R0,[R1, #+0]
     66            gpio_init_struct_key.GPIO_Pins = GPIO_Pin18|GPIO_Pin19|GPIO_Pin20|GPIO_Pin21|GPIO_Pin22|GPIO_Pin23;
   \   00000008   0xF45F 0x007C      MOVS     R0,#+16515072
   \   0000000C   0x....             LDR.N    R1,??DataTable1_7
   \   0000000E   0x6048             STR      R0,[R1, #+4]
     67            gpio_init_struct_key.GPIO_Dir = DIR_OUTPUT;
   \   00000010   0x2001             MOVS     R0,#+1
   \   00000012   0x....             LDR.N    R1,??DataTable1_7
   \   00000014   0x7308             STRB     R0,[R1, #+12]
     68            gpio_init_struct_key.GPIO_Output = OUTPUT_H;
   \   00000016   0x2001             MOVS     R0,#+1
   \   00000018   0x....             LDR.N    R1,??DataTable1_7
   \   0000001A   0x7348             STRB     R0,[R1, #+13]
     69            gpio_init_struct_key.GPIO_PinControl = IRQC_DIS;
   \   0000001C   0x2000             MOVS     R0,#+0
   \   0000001E   0x....             LDR.N    R1,??DataTable1_7
   \   00000020   0x6088             STR      R0,[R1, #+8]
     70            LPLD_GPIO_Init(gpio_init_struct_key);
   \   00000022   0x....             LDR.N    R1,??DataTable1_7
   \   00000024   0xB084             SUB      SP,SP,#+16
   \   00000026   0x4668             MOV      R0,SP
   \   00000028   0x2214             MOVS     R2,#+20
   \   0000002A   0x.... 0x....      BL       __aeabi_memcpy4
   \   0000002E   0xBC0F             POP      {R0-R3}
   \   00000030   0x.... 0x....      BL       LPLD_GPIO_Init
     71          }
   \   00000034   0xBD01             POP      {R0,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   0x43FE0A5C         DC32     0x43fe0a5c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_1:
   \   00000000   0x43FE0A48         DC32     0x43fe0a48

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_2:
   \   00000000   0x43FE0A4C         DC32     0x43fe0a4c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_3:
   \   00000000   0x43FE0A50         DC32     0x43fe0a50

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_4:
   \   00000000   0x43FE0A54         DC32     0x43fe0a54

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_5:
   \   00000000   0x43FE0A58         DC32     0x43fe0a58

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_6:
   \   00000000   0x400FF040         DC32     0x400ff040

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_7:
   \   00000000   0x........         DC32     gpio_init_struct_key

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   Key_Handle
      24   init_gpio_key
         8   -> LPLD_GPIO_Init
        24   -> __aeabi_memcpy4
       8   keyScan
         8   -> LPLD_LPTMR_DelayMs


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable1
       4  ??DataTable1_1
       4  ??DataTable1_2
       4  ??DataTable1_3
       4  ??DataTable1_4
       4  ??DataTable1_5
       4  ??DataTable1_6
       4  ??DataTable1_7
       2  Key_Handle
      20  gpio_init_struct_key
      54  init_gpio_key
     236  keyScan

 
  20 bytes in section .bss
 324 bytes in section .text
 
 324 bytes of CODE memory
  20 bytes of DATA memory

Errors: none
Warnings: none
